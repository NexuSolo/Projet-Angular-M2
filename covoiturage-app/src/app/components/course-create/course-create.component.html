<div class="content">
  <h1 class="title">Créer un trajet</h1>

  <form [formGroup]="departureForm" (ngSubmit)="onSubmit()">
    <div class="depart">
      <h2>Départ</h2>
      <div class="inputs">
        <div class="right">
          <input type="text" formControlName="departureCountry" placeholder="Pays" />
          <div appShowErrors [form]="departureForm.controls['departureCountry']"></div>
          <input type="text" formControlName="departureCity" placeholder="Ville" />
          <div appShowErrors [form]="departureForm.controls['departureCity']"></div>
        </div>

        <div class="left">
          <input type="text" formControlName="departureAddress" placeholder="Adresse" />
          <div appShowErrors [form]="departureForm.controls['departureAddress']"></div>
          <input type="datetime-local" formControlName="departureDate" />
          <div appShowErrors [form]="departureForm.controls['departureDate']"></div>
        </div>
      </div>
    </div>

    <img class="arrow" src="../../assets/arrow-down.png" alt="" />

    <div class="destination" [formGroup]="arrivalForm">
      <h2>Destination</h2>
      <div class="inputs">
        <div class="right">
          <input type="text" formControlName="arrivalCountry" placeholder="Pays" />
          <div appShowErrors [form]="arrivalForm.controls['arrivalCountry']"></div>
          <input type="text" formControlName="arrivalCity" placeholder="Ville" />
          <div appShowErrors [form]="arrivalForm.controls['arrivalCity']"></div>
        </div>

        <div class="left">
          <input type="text" formControlName="arrivalAddress" placeholder="Adresse" />
          <div appShowErrors [form]="arrivalForm.controls['arrivalAddress']"></div>
          <input type="datetime-local" formControlName="arrivalDate" />
          <div appShowErrors [form]="arrivalForm.controls['arrivalDate']"></div>
          <div appShowErrors [form]="courseForm"></div>
          <!-- Ajout pour afficher les erreurs du formGroup parent -->
        </div>
      </div>
    </div>

    <div class="line"></div>

    <div class="infos" [formGroup]="informationForm">
      <h2>Informations supplémentaires</h2>
      <div class="inputs">
        <div class="right">
          <input type="number" formControlName="seats" placeholder="Sièges disponibles" />
          <div appShowErrors [form]="informationForm.controls['seats']"></div>
        </div>

        <div class="left">
          <input type="number" formControlName="price" placeholder="Prix" />
          <div appShowErrors [form]="informationForm.controls['price']"></div>
        </div>
      </div>
    </div>

    <button
      class="submit"
      type="submit"
      [disabled]="!departureForm.valid || !arrivalForm.valid || !informationForm.valid"
    >
      Créer le trajet
    </button>
  </form>
</div>
